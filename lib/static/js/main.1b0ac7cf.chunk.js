(window.webpackJsonpreaction=window.webpackJsonpreaction||[]).push([[0],{19:function(e,n,t){e.exports=t(20)},20:function(e,n,t){"use strict";t.r(n),t.d(n,"MODULE_COMMON",(function(){return y})),t.d(n,"reaction",(function(){return j})),t.d(n,"doAction",(function(){return E})),t.d(n,"doFunction",(function(){return S})),t.d(n,"mapProp",(function(){return k})),t.d(n,"regStore",(function(){return D})),t.d(n,"enableDevtools",(function(){return M})),t.d(n,"getGlobalState",(function(){return T})),t.d(n,"getModuleState",(function(){return A})),t.d(n,"getModuleProp",(function(){return N})),t.d(n,"Pr",(function(){return V}));var r=t(12),o=t(13),a=t(17),c=t(14),u=t(18),i=t(2),s=t.n(i),d=t(5),l=t(15),p=t(0),f=t.n(p),m=t(9),h=t(4);function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(t,!0).forEach((function(n){Object(l.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y="reaction_module_common",O=["bigint","boolean","string","number","function","symbol","undefined"],w={},v=function(e){return console.log("\ngot a loading tag: ".concat(e,", \nyou'd better implements your own 'showLoading' and 'hideLoading' \nby set reaction.showLoading/hideLoading property"))},j={store:Object.create({}),showLoading:v,hideLoading:v,defaultMaxProcessSeconds:8},_=function(e,n){if(n.module){var t=g({},e),r=t[n.module];return r?t[n.module]=Object.assign(r,n.payload):n.payload&&(t=Object.assign(t,n.payload),console.warn("you have produced a redux action without the 'module' id, which may cause error!")),t}return e},P=[];function E(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",r="string"===typeof e?{module:e}:e;if(!r.process&&typeof n in O)throw new Error("\n        payload must be a KV type when there's no process function in given moduleAction!\n        when call 'doAction',\n        the param 'payload' is promoted to be a KV type,\n        if you really want to use js simple meta type data, you must declare a 'process' function in\n        the ModuleAction to deal with the payload and return a KV data\n        ");var o=1,a="none"!==t;a&&P.push({action:{name:"@@begin loading:".concat(r.name),module:y,process:function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.showLoading(),e.abrupt("return",{loadingTag:t});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},payload:void 0}),P.push({action:r,payload:n}),a&&(P.push({action:{name:"@@end loading:".concat(r.name),module:y,process:function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.hideLoading(),e.abrupt("return",{loadingTag:"none"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},payload:void 0}),o=3),P.length===o&&x()}function S(e,n){E({module:"none",process:e},n)}function x(){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(s.a.mark((function e(){var n,t,r,o,a,c,u,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.length){e.next=2;break}return e.abrupt("return");case 2:if(n=P[0],t=n.action,r=n.payload,o=j.store.getState(),a=o[t.module],e.prev=5,c=r,!t.process){e.next=12;break}return i=1e3*(t.maxProcessSeconds||j.defaultMaxProcessSeconds),e.next=11,new Promise((function(e){var n=setTimeout((function(){console.error("action:[module:".concat(t.module,",name:").concat(t.name,"] 's process timeout! ")),e({})}),i);t.process(r,a).then((function(n){return e(n)})).finally((function(){return clearTimeout(n)}))}));case 11:u=e.sent;case 12:j.store.dispatch({type:t.name||"moduleAction",module:t.module,payload:u||c}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.dir(e.t0);case 18:P.shift(),P.length>0&&x();case 20:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function k(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var o;return"string"===typeof e?o=e:(o=e.module,w.hasOwnProperty(o)||D(g({},e))),function(e){var n=e.__mappedMd__||"";return n&&n.includes(o)?e:(n+="_"+o,e.__mappedMd__=n,Object(m.b)((function(e){var n={};if(t.length>0){var r=e[o];t.forEach((function(e){if(!r)throw new Error("please inject module-store to global by call regStore() first of all.");var t,o;if(e.includes(":")){var a=e.split(":");t=a[0],o=a[1]}else t=o=e;n[t]=r[o]}))}else{var a=e[o];n=g({},a)}return n}))(e))}}function D(e){var n=e.module;w[n]=e,Object.assign(j.store,Object(h.b)(_,w))}function M(){var e,n=window;n.__REDUX_DEVTOOLS_EXTENSION__&&(e=n.__REDUX_DEVTOOLS_EXTENSION__()),Object.assign(j.store,Object(h.b)(_,w,e))}function T(){return j.store.getState()}function A(e){return T()[e]}function N(e,n){var t=A(e);return t?t[n]:null}var V=function(e){function n(){return Object(r.a)(this,n),Object(a.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(o.a)(n,[{key:"render",value:function(){return f.a.createElement(m.a,{store:j.store},this.props.children)}}]),n}(f.a.Component)}},[[19,1,2]]]);
//# sourceMappingURL=main.1b0ac7cf.chunk.js.map